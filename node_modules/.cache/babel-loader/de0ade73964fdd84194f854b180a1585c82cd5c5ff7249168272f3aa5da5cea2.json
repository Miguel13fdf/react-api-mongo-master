{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USUARIO\\\\Downloads\\\\react-api-mongo-master\\\\src\\\\components\\\\ProductForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { ProductContext } from \"../contexts/ProductContext\";\nimport { Dialog } from \"primereact/dialog\";\nimport { Button } from \"primereact/button\";\nimport { InputText } from \"primereact/inputtext\";\nimport { InputNumber } from \"primereact/inputnumber\";\nimport { Calendar } from \"primereact/calendar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductForm = props => {\n  _s();\n  const {\n    isVisible,\n    setIsVisible\n  } = props;\n  const {\n    createProduct,\n    deleteProduct,\n    editProduct,\n    updateProduct\n  } = useContext(ProductContext);\n  const initialProductState = {\n    _id: null,\n    productName: \"\",\n    price: 0,\n    expiryDate: null\n  };\n  const [productData, setProductData] = useState(initialProductState);\n  useEffect(() => {\n    if (editProduct) setProductData(editProduct);\n  }, [editProduct]);\n  const updateProductName = e => {\n    setProductData(prevData => ({\n      ...prevData,\n      productName: e.target.value.trim()\n    }));\n  };\n  const updateProductPrice = value => {\n    setProductData(prevData => ({\n      ...prevData,\n      price: value\n    }));\n  };\n  const _deleteProduct = () => {\n    if (editProduct) {\n      deleteProduct(productData._id);\n      setProductData(initialProductState);\n    }\n    setIsVisible(false);\n  };\n  const saveProduct = () => {\n    if (!editProduct) {\n      createProduct(productData);\n    } else {\n      updateProduct(productData);\n    }\n    setProductData(initialProductState);\n    setIsVisible(false);\n  };\n  const clearSelected = () => {\n    setProductData(initialProductState);\n    setIsVisible(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Dialog, {\n      visible: isVisible,\n      modal: true,\n      style: {\n        width: \"420px\"\n      },\n      contentStyle: {\n        overflow: \"visible\"\n      },\n      header: \"Detalles del Producto\",\n      onHide: () => clearSelected(),\n      footer: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ui-dialog-buttonpane p-clearfix\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          label: \"Delete\",\n          icon: \"pi pi-times\",\n          onClick: _deleteProduct\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          label: \"Save\",\n          icon: \"pi pi-check\",\n          onClick: saveProduct\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-grid p-fluid\",\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-float-label\",\n          children: [/*#__PURE__*/_jsxDEV(InputText, {\n            value: productData.productName,\n            onChange: updateProductName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Nombre:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-float-label\",\n          children: [/*#__PURE__*/_jsxDEV(InputNumber, {\n            value: productData.price,\n            onValueChange: e => updateProductPrice(e.value),\n            mode: \"currency\",\n            currency: \"USD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Precio:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-float-label\",\n          children: [/*#__PURE__*/_jsxDEV(Calendar, {\n            value: productData.expiryDate && new Date(productData.expiryDate + \" \"),\n            onChange: e => setProductData({\n              ...productData,\n              expiryDate: e.target.value.toISOString().substring(0, 10)\n            }),\n            dateFormat: \"yy-mm-dd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Fecha de caducidad:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductForm, \"4GmQTo19ayP9O5icHvsqr0JHBw8=\");\n_c = ProductForm;\nexport default ProductForm;\nvar _c;\n$RefreshReg$(_c, \"ProductForm\");","map":{"version":3,"names":["React","useContext","useState","useEffect","ProductContext","Dialog","Button","InputText","InputNumber","Calendar","jsxDEV","_jsxDEV","ProductForm","props","_s","isVisible","setIsVisible","createProduct","deleteProduct","editProduct","updateProduct","initialProductState","_id","productName","price","expiryDate","productData","setProductData","updateProductName","e","prevData","target","value","trim","updateProductPrice","_deleteProduct","saveProduct","clearSelected","children","visible","modal","style","width","contentStyle","overflow","header","onHide","footer","className","label","icon","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onChange","onValueChange","mode","currency","Date","toISOString","substring","dateFormat","_c","$RefreshReg$"],"sources":["C:/Users/USUARIO/Downloads/react-api-mongo-master/src/components/ProductForm.jsx"],"sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport { ProductContext } from \"../contexts/ProductContext\";\nimport { Dialog } from \"primereact/dialog\";\nimport { Button } from \"primereact/button\";\nimport { InputText } from \"primereact/inputtext\";\nimport { InputNumber } from \"primereact/inputnumber\";\nimport { Calendar } from \"primereact/calendar\";\n\nconst ProductForm = (props) => {\n  const { isVisible, setIsVisible } = props;\n\n  const { \n    createProduct,\n    deleteProduct,\n    editProduct,\n    updateProduct,\n  } = useContext(ProductContext);\n\n  const initialProductState = {\n    _id: null,\n    productName: \"\",\n    price: 0,\n    expiryDate: null,\n  };\n\n  const [productData, setProductData] = useState(initialProductState);\n\n  useEffect(() => {\n    if (editProduct) setProductData(editProduct);\n  }, [editProduct]);\n\n  const updateProductName = (e) => {\n    setProductData((prevData) => ({\n      ...prevData,\n      productName: e.target.value.trim(),\n    }));\n  };\n\n  const updateProductPrice = (value) => {\n    setProductData((prevData) => ({\n      ...prevData,\n      price: value,\n    }));\n  };\n\n  const _deleteProduct = () => {\n    if (editProduct) {\n      deleteProduct(productData._id);\n      setProductData(initialProductState);\n    }\n    setIsVisible(false);\n  };\n\n  const saveProduct = () => {\n    if (!editProduct) {\n      createProduct(productData);\n    } else {\n      updateProduct(productData);\n    }\n    setProductData(initialProductState);\n    setIsVisible(false);\n    \n  };\n\n  const clearSelected = () => {\n    setProductData(initialProductState);\n    setIsVisible(false);\n  };\n\n  return (\n    <div>\n      <Dialog\n        visible={isVisible}\n        modal={true}\n        style={{ width: \"420px\" }}\n        contentStyle={{ overflow: \"visible\" }}\n        header=\"Detalles del Producto\"\n        onHide={() => clearSelected()}\n        footer={\n          <div className=\"ui-dialog-buttonpane p-clearfix\">\n            <Button label=\"Delete\" icon=\"pi pi-times\" onClick={_deleteProduct} />\n            <Button label=\"Save\" icon=\"pi pi-check\" onClick={saveProduct} />\n          </div>\n        }\n      >\n        <div className=\"p-grid p-fluid\">\n          <br />\n          <div className=\"p-float-label\">\n            <InputText\n              value={productData.productName}\n              onChange={updateProductName}\n            />\n            <label>Nombre:</label>\n          </div>\n          <br />\n          <div className=\"p-float-label\">\n            <InputNumber\n              value={productData.price}\n              onValueChange={(e) => updateProductPrice(e.value)}\n              mode=\"currency\"\n              currency=\"USD\"\n            />\n            <label>Precio:</label>\n          </div>\n          <br />\n          <div className=\"p-float-label\">\n            <Calendar\n              value={\n                productData.expiryDate &&\n                new Date(productData.expiryDate + \" \")\n              }\n              onChange={(e) =>\n                setProductData({\n                  ...productData,\n                  expiryDate: e.target.value.toISOString().substring(0, 10),\n                })\n              }\n              dateFormat=\"yy-mm-dd\"\n            />\n            <label>Fecha de caducidad:</label>\n          </div>\n          <br />\n        </div>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ProductForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}