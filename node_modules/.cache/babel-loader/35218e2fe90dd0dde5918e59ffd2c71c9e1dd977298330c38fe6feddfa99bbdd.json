{"ast":null,"code":"import React,{useContext,useState,useEffect}from\"react\";import{ProductContext}from\"../contexts/ProductContext\";import{Dialog}from\"primereact/dialog\";import{Button}from\"primereact/button\";import{InputText}from\"primereact/inputtext\";import{InputNumber}from\"primereact/inputnumber\";import{Calendar}from\"primereact/calendar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ProductForm=props=>{const{isVisible,setIsVisible}=props;const{createProduct,deleteProduct,editProduct,updateProduct}=useContext(ProductContext);const initialProductState={_id:null,productName:\"\",price:0,expiryDate:null};const[productData,setProductData]=useState(initialProductState);useEffect(()=>{if(editProduct)setProductData(editProduct);},[editProduct]);const updateProductName=e=>{setProductData(prevData=>({...prevData,productName:e.target.value.trim()}));};const updateProductPrice=value=>{setProductData(prevData=>({...prevData,price:value}));};const _deleteProduct=()=>{if(editProduct){deleteProduct(productData._id);setProductData(initialProductState);}setIsVisible(false);};const saveProduct=()=>{if(!editProduct){createProduct(productData);}else{updateProduct(productData);}setProductData(initialProductState);setIsVisible(false);};const clearSelected=()=>{setProductData(initialProductState);setIsVisible(false);};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Dialog,{visible:isVisible,modal:true,style:{width:\"420px\"},contentStyle:{overflow:\"visible\"},header:\"Detalles del Producto\",onHide:()=>clearSelected(),footer:/*#__PURE__*/_jsxs(\"div\",{className:\"ui-dialog-buttonpane p-clearfix\",children:[/*#__PURE__*/_jsx(Button,{label:\"Delete\",icon:\"pi pi-times\",onClick:_deleteProduct}),/*#__PURE__*/_jsx(Button,{label:\"Save\",icon:\"pi pi-check\",onClick:saveProduct})]}),children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-grid p-fluid\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-float-label\",children:[/*#__PURE__*/_jsx(InputText,{value:productData.productName,onChange:updateProductName}),/*#__PURE__*/_jsx(\"label\",{children:\"Nombre:\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-float-label\",children:[/*#__PURE__*/_jsx(InputNumber,{value:productData.price,onValueChange:e=>updateProductPrice(e.value),mode:\"currency\",currency:\"USD\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Precio:\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-float-label\",children:[/*#__PURE__*/_jsx(Calendar,{value:productData.expiryDate&&new Date(productData.expiryDate+\" \"),onChange:e=>setProductData({...productData,expiryDate:e.target.value.toISOString().substring(0,10)}),dateFormat:\"yy-mm-dd\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Fecha de caducidad:\"})]}),/*#__PURE__*/_jsx(\"br\",{})]})})});};export default ProductForm;","map":{"version":3,"names":["React","useContext","useState","useEffect","ProductContext","Dialog","Button","InputText","InputNumber","Calendar","jsx","_jsx","jsxs","_jsxs","ProductForm","props","isVisible","setIsVisible","createProduct","deleteProduct","editProduct","updateProduct","initialProductState","_id","productName","price","expiryDate","productData","setProductData","updateProductName","e","prevData","target","value","trim","updateProductPrice","_deleteProduct","saveProduct","clearSelected","children","visible","modal","style","width","contentStyle","overflow","header","onHide","footer","className","label","icon","onClick","onChange","onValueChange","mode","currency","Date","toISOString","substring","dateFormat"],"sources":["C:/Users/USUARIO/Downloads/react-api-mongo-master/src/components/ProductForm.jsx"],"sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport { ProductContext } from \"../contexts/ProductContext\";\nimport { Dialog } from \"primereact/dialog\";\nimport { Button } from \"primereact/button\";\nimport { InputText } from \"primereact/inputtext\";\nimport { InputNumber } from \"primereact/inputnumber\";\nimport { Calendar } from \"primereact/calendar\";\n\nconst ProductForm = (props) => {\n  const { isVisible, setIsVisible } = props;\n\n  const { \n    createProduct,\n    deleteProduct,\n    editProduct,\n    updateProduct,\n  } = useContext(ProductContext);\n\n  const initialProductState = {\n    _id: null,\n    productName: \"\",\n    price: 0,\n    expiryDate: null,\n  };\n\n  const [productData, setProductData] = useState(initialProductState);\n\n  useEffect(() => {\n    if (editProduct) setProductData(editProduct);\n  }, [editProduct]);\n\n  const updateProductName = (e) => {\n    setProductData((prevData) => ({\n      ...prevData,\n      productName: e.target.value.trim(),\n    }));\n  };\n\n  const updateProductPrice = (value) => {\n    setProductData((prevData) => ({\n      ...prevData,\n      price: value,\n    }));\n  };\n\n  const _deleteProduct = () => {\n    if (editProduct) {\n      deleteProduct(productData._id);\n      setProductData(initialProductState);\n    }\n    setIsVisible(false);\n  };\n\n  const saveProduct = () => {\n    if (!editProduct) {\n      createProduct(productData);\n    } else {\n      updateProduct(productData);\n    }\n    setProductData(initialProductState);\n    setIsVisible(false);\n    \n  };\n\n  const clearSelected = () => {\n    setProductData(initialProductState);\n    setIsVisible(false);\n  };\n\n  return (\n    <div>\n      <Dialog\n        visible={isVisible}\n        modal={true}\n        style={{ width: \"420px\" }}\n        contentStyle={{ overflow: \"visible\" }}\n        header=\"Detalles del Producto\"\n        onHide={() => clearSelected()}\n        footer={\n          <div className=\"ui-dialog-buttonpane p-clearfix\">\n            <Button label=\"Delete\" icon=\"pi pi-times\" onClick={_deleteProduct} />\n            <Button label=\"Save\" icon=\"pi pi-check\" onClick={saveProduct} />\n          </div>\n        }\n      >\n        <div className=\"p-grid p-fluid\">\n          <br />\n          <div className=\"p-float-label\">\n            <InputText\n              value={productData.productName}\n              onChange={updateProductName}\n            />\n            <label>Nombre:</label>\n          </div>\n          <br />\n          <div className=\"p-float-label\">\n            <InputNumber\n              value={productData.price}\n              onValueChange={(e) => updateProductPrice(e.value)}\n              mode=\"currency\"\n              currency=\"USD\"\n            />\n            <label>Precio:</label>\n          </div>\n          <br />\n          <div className=\"p-float-label\">\n            <Calendar\n              value={\n                productData.expiryDate &&\n                new Date(productData.expiryDate + \" \")\n              }\n              onChange={(e) =>\n                setProductData({\n                  ...productData,\n                  expiryDate: e.target.value.toISOString().substring(0, 10),\n                })\n              }\n              dateFormat=\"yy-mm-dd\"\n            />\n            <label>Fecha de caducidad:</label>\n          </div>\n          <br />\n        </div>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ProductForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}