{"ast":null,"code":"import React,{createContext,useState,useEffect}from\"react\";import{ProductService}from\"../services/ProductService\";import{jsx as _jsx}from\"react/jsx-runtime\";export const ProductContext=/*#__PURE__*/createContext();const ProductContextProvider=props=>{const productService=new ProductService();const[products,setProducts]=useState([]);const[editProduct,setEditProduct]=useState(null);useEffect(()=>{productService.readAll().then(data=>setProducts(data));},[]);const createProduct=product=>{productService.create(product).then(data=>setProducts([...products,data]));};const deleteProduct=id=>{productService.delete(id).then(()=>setProducts(products.filter(p=>p._id!==id)));};const findProduct=id=>{const product=products.find(p=>p._id===id);setEditProduct(product);};const updateProduct=product=>{productService.update(product).then(data=>setProducts(prevProducts=>prevProducts.map(p=>p._id===product._id?data:p)));setEditProduct(null);};return/*#__PURE__*/_jsx(ProductContext.Provider,{value:{createProduct,deleteProduct,findProduct,updateProduct,editProduct,products},children:props.children});};export default ProductContextProvider;","map":{"version":3,"names":["React","createContext","useState","useEffect","ProductService","jsx","_jsx","ProductContext","ProductContextProvider","props","productService","products","setProducts","editProduct","setEditProduct","readAll","then","data","createProduct","product","create","deleteProduct","id","delete","filter","p","_id","findProduct","find","updateProduct","update","prevProducts","map","Provider","value","children"],"sources":["C:/Users/USUARIO/Downloads/react-api-mongo-master/src/contexts/ProductContext.jsx"],"sourcesContent":["import React, { createContext, useState, useEffect } from \"react\";\nimport { ProductService } from \"../services/ProductService\";\n\nexport const ProductContext = createContext();\n\nconst ProductContextProvider = (props) => {\n  const productService = new ProductService();\n\n  const [products, setProducts] = useState([]);\n\n  const [editProduct, setEditProduct] = useState(null);\n\n  useEffect(() => {\n    productService.readAll().then((data) => setProducts(data));\n  }, []);\n\n  const createProduct = (product) => {\n    productService\n      .create(product)\n      .then((data) => setProducts([...products, data]));\n  };\n\n  const deleteProduct = (id) => {\n    productService\n      .delete(id)\n      .then(() => setProducts(products.filter((p) => p._id !== id)));\n  };\n\n  const findProduct = (id) => {\n    const product = products.find((p) => p._id === id);\n\n    setEditProduct(product);\n  };\n\n  const updateProduct = (product) => {\n    productService\n      .update(product)\n      .then((data) =>\n        setProducts((prevProducts) =>\n          prevProducts.map((p) => (p._id === product._id ? data : p))\n        )\n      );\n\n    setEditProduct(null);\n  };\n\n  return (\n    <ProductContext.Provider\n      value={{\n        createProduct,\n        deleteProduct,\n        findProduct,\n        updateProduct,\n        editProduct,\n        products,\n      }}\n    >\n      {props.children}\n    </ProductContext.Provider>\n  );\n};\n\nexport default ProductContextProvider;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CACjE,OAASC,cAAc,KAAQ,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE5D,MAAO,MAAM,CAAAC,cAAc,cAAGN,aAAa,CAAC,CAAC,CAE7C,KAAM,CAAAO,sBAAsB,CAAIC,KAAK,EAAK,CACxC,KAAM,CAAAC,cAAc,CAAG,GAAI,CAAAN,cAAc,CAAC,CAAC,CAE3C,KAAM,CAACO,QAAQ,CAAEC,WAAW,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAE5C,KAAM,CAACW,WAAW,CAAEC,cAAc,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAEpDC,SAAS,CAAC,IAAM,CACdO,cAAc,CAACK,OAAO,CAAC,CAAC,CAACC,IAAI,CAAEC,IAAI,EAAKL,WAAW,CAACK,IAAI,CAAC,CAAC,CAC5D,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,aAAa,CAAIC,OAAO,EAAK,CACjCT,cAAc,CACXU,MAAM,CAACD,OAAO,CAAC,CACfH,IAAI,CAAEC,IAAI,EAAKL,WAAW,CAAC,CAAC,GAAGD,QAAQ,CAAEM,IAAI,CAAC,CAAC,CAAC,CACrD,CAAC,CAED,KAAM,CAAAI,aAAa,CAAIC,EAAE,EAAK,CAC5BZ,cAAc,CACXa,MAAM,CAACD,EAAE,CAAC,CACVN,IAAI,CAAC,IAAMJ,WAAW,CAACD,QAAQ,CAACa,MAAM,CAAEC,CAAC,EAAKA,CAAC,CAACC,GAAG,GAAKJ,EAAE,CAAC,CAAC,CAAC,CAClE,CAAC,CAED,KAAM,CAAAK,WAAW,CAAIL,EAAE,EAAK,CAC1B,KAAM,CAAAH,OAAO,CAAGR,QAAQ,CAACiB,IAAI,CAAEH,CAAC,EAAKA,CAAC,CAACC,GAAG,GAAKJ,EAAE,CAAC,CAElDR,cAAc,CAACK,OAAO,CAAC,CACzB,CAAC,CAED,KAAM,CAAAU,aAAa,CAAIV,OAAO,EAAK,CACjCT,cAAc,CACXoB,MAAM,CAACX,OAAO,CAAC,CACfH,IAAI,CAAEC,IAAI,EACTL,WAAW,CAAEmB,YAAY,EACvBA,YAAY,CAACC,GAAG,CAAEP,CAAC,EAAMA,CAAC,CAACC,GAAG,GAAKP,OAAO,CAACO,GAAG,CAAGT,IAAI,CAAGQ,CAAE,CAC5D,CACF,CAAC,CAEHX,cAAc,CAAC,IAAI,CAAC,CACtB,CAAC,CAED,mBACER,IAAA,CAACC,cAAc,CAAC0B,QAAQ,EACtBC,KAAK,CAAE,CACLhB,aAAa,CACbG,aAAa,CACbM,WAAW,CACXE,aAAa,CACbhB,WAAW,CACXF,QACF,CAAE,CAAAwB,QAAA,CAED1B,KAAK,CAAC0B,QAAQ,CACQ,CAAC,CAE9B,CAAC,CAED,cAAe,CAAA3B,sBAAsB"},"metadata":{},"sourceType":"module","externalDependencies":[]}